<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Delivery Network (CDN)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../common/styles.css" rel="stylesheet">
    <script>
        // Function to include an external HTML file
        function loadHTML(file, elementId) {
            fetch(file)
                .then(response => response.text())
                .then(data => document.getElementById(elementId).innerHTML = data)
                .catch(error => console.error('Error loading HTML:', error));
        }
    </script>
</head>

<body onload="loadHTML('../../common/navbar.html', 'navbar-placeholder')">
    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <div class="container">

        <div class="content">
            <h3 class="section-title">What is Content Delivery Network (CDN)?</h3>
                    <p>
                        <ul>
                            <li>A Content Delivery Network (CDN) is a group of geographically distributed proxy servers.
                            A proxy server is an intermediate server between a client and the origin server. </li>
                            <li>CDN mainly stores two types of data: <u>static</u> and <u>dynamic.</u></li>
                            <li>The primary purpose of a CDN is to deliver content, such as web pages, images, videos, and other digital assets, to users more efficiently and quickly.</li>
                            <li>A CDN caches a significant portion of content based on its capabilities, primarily focusing on caching static content.
                            For example, Netflix might be able to store over 90% of its movies in a CDN, but this isn't practical for a service like YouTube because of the vast amount of content it hosts.</li>
                            
                        </ul>
                    </p>
                    <h5>Key Features of a CDN</h5>
                    <ul>
                        <li><b>Geographic Distribution: </b>Servers are placed in multiple locations worldwide, ensuring that content is delivered from the closest server to the user.</li>
                        <li><b>Caching: </b>CDNs store cached versions of content, reducing the load on the origin server and speeding up the delivery process.</li>
                        <li><b>Load Balancing: </b>By distributing traffic across multiple servers, CDNs prevent any single server from becoming overwhelmed.</li>
                    </ul>
                    <h5>Pull Strategy (On-Demand Content Retrieval)</h5>
                        <ul>
                            <li>Content is not pre-loaded to the edge servers. Instead, when a client requests content, the CDN checks if it’s available on the nearest edge server.</li>
                            <li>If the content is not available, the edge server pulls it from the origin server (or another proxy server in the hierarchy).</li>
                            <li>Once the content is retrieved, it is cached on the edge server for future requests, so subsequent requests for the same content can be served directly from the edge.</li>
                        </ul>
                    <h5>Push Strategy (Pre-Loading Content)</h5>
                        <ul>
                            <li>Content is proactively pushed from the origin server to the edge servers, regardless of whether users have requested it.</li>
                            <li>This is typically done for static, popular, or time-sensitive content that needs to be widely available as soon as it's published.</li>
                        </ul>
                    <h6>Example</h6>
                        <div class="example">
                            <p>When a user in Europe accesses a website hosted in the US, a CDN will deliver content from a nearby European server, significantly reducing load times compared to fetching the content directly from the US server.
                            <br>CDNs are commonly used by large websites, streaming services, and applications to ensure quick, reliable access to their content for users around the world.</p>
                        </div>
                    
            <br>
            <h3 class="section-title">Problems a CDN Can Solve</h3>
                <ul>
                    <li><strong>Reduced Latency:</strong> By caching content closer to users, a CDN minimizes the distance data travels, leading to faster load times.</li>
                    <li><strong>Load Distribution:</strong> A CDN spreads traffic across multiple servers, reducing the load on the origin server and preventing overloads.</li>
                    <li><strong>Improved Availability:</strong> With content distributed across multiple servers, a CDN can keep a website online even if the origin server goes down.</li>
                    <li><strong>Scalability:</strong> A CDN can handle traffic spikes by distributing requests across a vast network of servers, ensuring consistent performance during high demand.</li>
                    <li><strong>Enhanced Security:</strong> CDNs can mitigate DDoS attacks by absorbing malicious traffic across their network, protecting the origin server.</li>
                    <li><strong>Bandwidth Optimization:</strong> By caching content, a CDN reduces the amount of data that needs to be transferred from the origin server, saving bandwidth costs.</li>
                </ul>
            <br>
            <h3 class="section-title">Building blocks for cdn</h3>
            <ul>
                <li>Edge Servers (Points of Presence - PoPs)</li>
                <ul>
                    <li>Definition: Edge servers are the physical or virtual servers located at strategic points around the world.</li>
                    <li>Function: These servers cache copies of content closer to users, reducing latency and improving load times.</li>
                </ul>
                <li>Origin Server</li>
                <li>Caching Mechanism</li>
                <li>Load Balancers</li>
                <li>Routing and DNS</li>
            </ul>
            <br>
            <h3 class="section-title">cdn workflow</h3>
            <img src="../../images/cdn.PNG" alt="lb" style="display: block; margin: auto; width: 50%;">
            <br>

            <h3 class="section-title">How CDN Works in Cloud Services</h3>
                    <div class="step">
                        <span>1. Upload Content to Cloud Storage</span>
                        <p>You start by uploading your website’s static content (images, videos, CSS files, etc.) to cloud storage, such as Amazon S3, Google Cloud Storage, or Azure Blob Storage. This storage acts as the origin server for your CDN.</p>
                    </div>
                
                    <div class="step">
                        <span>2. Configure CDN with Cloud Service</span>
                        <p>Next, you configure your CDN service (e.g., Amazon CloudFront, Azure CDN, or Google Cloud CDN) to pull content from the cloud storage. You specify the origin server (cloud storage URL) and the CDN service handles the rest.</p>
                    </div>
                
                    <div class="step">
                        <span>3. User Requests Content</span>
                        <p>A user from New York requests an image from your website. The request is first routed to the CDN rather than directly to the origin server.</p>
                    </div>
                
                    <div class="step">
                        <span>4. CDN Determines Nearest Edge Server</span>
                        <p>The CDN determines the edge server closest to the user’s location (e.g., an edge server located in New York).</p>
                    </div>
                
                    <div class="step">
                        <span>5. Check Edge Server Cache</span>
                        <p>The edge server checks its cache to see if the requested image is already stored locally. If the image is cached, the edge server immediately serves it to the user.</p>
                    </div>
                
                    <div class="step">
                        <span>6. Pull from Origin (if not cached)</span>
                        <p>If the image is not in the cache, the edge server retrieves the image from the origin server (cloud storage) and then caches it for future requests.</p>
                    </div>
                
                    <div class="step">
                        <span>7. Deliver Content to User</span>
                        <p>Once the content is retrieved (either from the cache or the origin server), it is delivered to the user with minimal latency, thanks to the proximity of the edge server.</p>
                    </div>
                
                    <div class="step">
                        <span>8. Subsequent Requests</span>
                        <p>For subsequent requests from other users in the same region, the CDN serves the cached content from the edge server, ensuring fast delivery and reducing the load on the origin server.</p>
                    </div>
                
                    <h6>Example</h6>
                    <div class="example">
                        <p>Imagine you're hosting a video streaming website, and you've uploaded your video files to Amazon S3. You've also configured Amazon CloudFront as your CDN.</p>
                        <p>A user in Tokyo tries to watch a video. The request is routed to the nearest edge server in Tokyo. If this edge server already has the video in its cache, it quickly serves the video to the user. If not, it retrieves the video from Amazon S3, caches it, and streams it to the user. Future users in Tokyo will now get the video faster because it’s cached locally.</p>
                    </div>

            <h3 class="section-title">Cache Busting</h3>
                <h5>What is Cache Busting?</h5>
                    <p>Cache busting is a technique used to ensure that clients and CDNs retrieve the most recent version of a file, rather than serving an outdated or cached version. 
                        When a file changes, cache busting techniques force the cache to invalidate the old version and fetch the new one from the server.</p>
                    
                <h5>Why is Cache Busting Important?</h5>
                    <p>Without cache busting, users might continue to receive outdated files from the cache even after updates have been made. 
                        This can lead to issues such as users seeing old content, broken functionality, or inconsistencies in the user experience. 
                        Cache busting helps ensure that users always get the latest version of resources like CSS files, JavaScript, and images.</p>
                
                <h5>Common Cache Busting Techniques</h5>
                    <ul>
                        <li><strong>Query Strings:</strong> Appending a query string to the URL of a resource, such as <code>styles.css?v=2.0</code>. Each time the file changes, the query string is updated to reflect the new version.</li>
                        <li><strong>Versioning in Filename:</strong> Including a version number directly in the filename, such as <code>styles.v2.0.css</code>. When the file is updated, the filename is changed, ensuring that browsers and CDNs treat it as a new resource.</li>
                        <li><strong>Hashing:</strong> Generating a unique hash based on the file contents and appending it to the filename, like <code>styles.abcdef123456.css</code>. The hash changes whenever the file contents change, ensuring that clients receive the updated version.</li>
                    </ul>
            
                <h5>How Cache Busting Works in a CDN Environment</h5>
                    <p>In a CDN environment, cache busting techniques work by altering the URL of resources whenever a change is made. When a new version of a file is deployed:</p>
                    <ol>
                        <li>The CDN recognizes the updated URL (with a new query string, version number, or hash).</li>
                        <li>The CDN fetches the updated file from the origin server and caches it at the edge locations.</li>
                        <li>Subsequent requests for the file are served from the edge locations with the updated content.</li>
                    </ol>
                    <p>This approach ensures that users receive the latest content while minimizing the risk of serving stale resources.</p>
            
                <h5>Considerations for Implementing Cache Busting</h5>
                    <p>When implementing cache busting, consider the following:</p>
                    <ul>
                        <li><strong>Consistency:</strong> Ensure that all resources (CSS, JS, images) are properly versioned to avoid inconsistencies.</li>
                        <li><strong>Build Process Integration:</strong> Integrate cache busting into your build process or deployment pipeline to automate versioning and minimize manual effort.</li>
                        <li><strong>Impact on Caching Policies:</strong> Be mindful of how cache busting affects caching policies and TTL (time-to-live) settings for different types of content.</li>
                    </ul>
            

            </br>

            <h3 class="section-title">Interview Questions and Answers</h2>
                
                <div class="interview-question">
                    <strong>Q1: What is a CDN, and how does it work?</strong>
                </div>
                <div class="interview-answer">
                    <p>- A Content Delivery Network (CDN) is a distributed network of servers that delivers web content to users based on their geographic location. 
                        <br>- CDNs store cached versions of your website content in multiple locations around the world, also known as edge locations. 
                        <br>- When a user requests content, the CDN serves it from the nearest edge location, reducing latency and improving load times. 
                        <br>- This setup is especially useful for handling high traffic loads and ensuring availability and performance globally.

                    </p>
                </div>

                <div class="interview-question">
                    <strong>Q2: Why would you use a CDN in a web application?</strong>
                </div>
                <div class="interview-answer">
                    <p>- CDNs are used to enhance the performance, reliability, and scalability of web applications. 
                        <br>- They reduce latency by serving content from edge servers closer to the user, balance load by distributing traffic across multiple servers, and improve availability by providing redundancy. 
                        <br>- Additionally, CDNs can help protect against DDoS attacks by distributing and absorbing the traffic load.
                    </p>
                </div>

                <div class="interview-question">
                    <strong>Q3: Explain the process of cache invalidation in a CDN.</strong>
                </div>
                <div class="interview-answer">
                    <p> Cache invalidation in a CDN involves removing or updating content in the CDN’s cache when it becomes stale or outdated. 
                        <br>This can be done through:
                        <ul>
                            <li><b>Time-to-Live (TTL): </b> Setting a TTL for cached content so that it automatically expires after a certain period.</li>
                            <li><b>Manual Purging: </b> Explicitly sending a request to purge or invalidate specific content across all edge locations.</li>
                            <li><b>Cache Key Versioning: </b> Changing the URL or query string parameters, forcing the CDN to treat it as a new resource and fetch a fresh copy from the origin server.</li>
                        </ul>
                        </p>
                </div>

                <div class="interview-question">
                    <strong>Q4: How do you handle dynamic content with a CDN?</strong>
                </div>
                <div class="interview-answer">
                    <p>
                        <ul>
                            <li><b>Partial Caching: </b>Caching parts of the page that are static and dynamically generating the rest. </li>
                            <li><b>Edge Computing/Edge Functions: </b> Using CDN capabilities like serverless functions at the edge to generate dynamic content closer to the user.</li>
                            <li><b>API Caching: </b> Caching API responses that are less dynamic or have a defined TTL.</li>
                        </ul>
                    </p>
                </div>

                <div class="interview-question">
                    <strong>Q5: What is the difference between a CDN and a reverse proxy?</strong>
                </div>
                <div class="interview-answer">
                    <p> - A CDN is specifically designed to cache and serve static content from multiple geographically distributed locations to reduce latency and improve availability. 
                        <br> - A reverse proxy, on the other hand, is a server that sits between the client and the origin server, forwarding client requests to the origin and returning the server's response to the client. 
                        <br> - While CDNs often act as reverse proxies, a reverse proxy itself does not necessarily provide the geographic distribution and caching that a CDN offers.
                    
                        </p>
                </div>

                <div class="interview-question">
                    <strong>Q6: How would you ensure the security of data in transit between your origin servers and the CDN?</strong>
                </div>
                <div class="interview-answer">
                    <p>
                        <ul>
                            <li><b>TLS/SSL Encryption: </b> Enforcing HTTPS between the origin servers and the CDN to secure data in transit.</li>
                            <li><b>IP Whitelisting: </b> Restricting access to the origin server only to known CDN IP ranges.</li>
                            <li><b>Token-Based Authentication: </b> Using signed URLs or tokens to ensure that only authorized requests are allowed to fetch content from the CDN.</li>
                        </ul>
                        </p>
                </div>

                <div class="interview-question">
                    <strong>Q7: How can CDNs help in mitigating DDoS attacks?</strong>
                </div>
                <div class="interview-answer">
                    <p>
                        CDNs help mitigate DDoS attacks by distributing the traffic across a large number of edge servers. 
                        This distribution makes it difficult for attackers to overwhelm a single point of origin. 
                        Additionally, many CDNs offer built-in DDoS protection features such as traffic filtering, rate limiting, and web application firewalls (WAFs), 
                        which inspect incoming traffic for malicious requests and block them before they reach the origin server.
                    </p>
                </div>

           
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2024 My Blog. All rights reserved.</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
